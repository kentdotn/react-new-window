{"version":3,"file":"react-new-window.js","sources":["../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../src/NewWindow.js","../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"],"sourcesContent":["function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/**\n * Component dependencies.\n * @private\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\n/**\n * The NewWindow class object.\n * @public\n */\n\nclass NewWindow extends React.PureComponent {\n  /**\n   * NewWindow default props.\n   */\n  static defaultProps = {\n    url: '',\n    name: '',\n    title: '',\n    features: { width: '600px', height: '640px' },\n    onBlock: null,\n    onOpen: null,\n    onUnload: null,\n    center: 'parent',\n    copyStyles: true,\n    closeOnUnmount: true\n  }\n\n  /**\n   * The NewWindow function constructor.\n   * @param {Object} props\n   */\n  constructor(props) {\n    super(props)\n    this.container = null\n    this.window = null\n    this.windowCheckerInterval = null\n    this.released = false\n    this.state = {\n      mounted: false\n    }\n  }\n\n  /**\n   * Render the NewWindow component.\n   */\n  render() {\n    if (!this.state.mounted) return null\n    return ReactDOM.createPortal(this.props.children, this.container)\n  }\n\n  componentDidMount() {\n    this.openChild()\n    this.setState({ mounted: true })\n  }\n\n  /**\n   * Create the new window when NewWindow component mount.\n   */\n  openChild() {\n    const { url, title, name, features, onBlock, onOpen, center } = this.props\n\n    // Prepare position of the new window to be centered against the 'parent' window or 'screen'.\n    if (\n      typeof center === 'string' &&\n      (features.width === undefined || features.height === undefined)\n    ) {\n      console.warn(\n        'width and height window features must be present when a center prop is provided'\n      )\n    } else if (center === 'parent') {\n      features.left =\n        window.top.outerWidth / 2 + window.top.screenX - features.width / 2\n      features.top =\n        window.top.outerHeight / 2 + window.top.screenY - features.height / 2\n    } else if (center === 'screen') {\n      const screenLeft =\n        window.screenLeft !== undefined ? window.screenLeft : window.screen.left\n      const screenTop =\n        window.screenTop !== undefined ? window.screenTop : window.screen.top\n\n      const width = window.innerWidth\n        ? window.innerWidth\n        : document.documentElement.clientWidth\n        ? document.documentElement.clientWidth\n        : window.screen.width\n      const height = window.innerHeight\n        ? window.innerHeight\n        : document.documentElement.clientHeight\n        ? document.documentElement.clientHeight\n        : window.screen.height\n\n      features.left = width / 2 - features.width / 2 + screenLeft\n      features.top = height / 2 - features.height / 2 + screenTop\n    }\n\n    // Open a new window.\n    this.window = window.open(url, name, toWindowFeatures(features))\n    this.container = this.window.document.createElement('div')\n    // When a new window use content from a cross-origin there's no way we can attach event\n    // to it. Therefore, we need to detect in a interval when the new window was destroyed\n    // or was closed.\n    this.windowCheckerInterval = setInterval(() => {\n      if (!this.window || this.window.closed) {\n        this.release()\n      }\n    }, 50)\n\n    // Check if the new window was succesfully opened.\n    if (this.window) {\n      this.window.document.title = title\n\n      // Check if the container already exists as the window may have been already open\n      this.container = this.window.document.getElementById(\n        'new-window-container'\n      )\n      if (this.container === null) {\n        this.container = this.window.document.createElement('div')\n        this.container.setAttribute('id', 'new-window-container')\n        this.window.document.body.appendChild(this.container)\n      } else {\n        // Remove any existing content\n        const staticContainer = this.window.document.getElementById(\n          'new-window-container-static'\n        )\n        this.window.document.body.removeChild(staticContainer)\n      }\n\n      // If specified, copy styles from parent window's document.\n      if (this.props.copyStyles) {\n        setTimeout(() => copyStyles(document, this.window.document), 0)\n      }\n\n      if (typeof onOpen === 'function') {\n        onOpen(this.window)\n      }\n\n      // Release anything bound to this component before the new window unload.\n      this.window.addEventListener('beforeunload', () => this.release())\n    } else {\n      // Handle error on opening of new window.\n      if (typeof onBlock === 'function') {\n        onBlock(null)\n      } else {\n        console.warn('A new window could not be opened. Maybe it was blocked.')\n      }\n    }\n  }\n\n  /**\n   * Closes the opened window (if any) when NewWindow will unmount if the\n   * prop {closeOnUnmount} is true, otherwise the NewWindow will remain open\n   */\n  componentWillUnmount() {\n    if (this.window) {\n      if (this.props.closeOnUnmount) {\n        this.window.close()\n      } else if (this.props.children) {\n        // Clone any children so they aren't removed when react stops rendering\n        const clone = this.container.cloneNode(true)\n        clone.setAttribute('id', 'new-window-container-static')\n        this.window.document.body.appendChild(clone)\n      }\n    }\n  }\n\n  /**\n   * Release the new window and anything that was bound to it.\n   */\n  release() {\n    // This method can be called once.\n    if (this.released) {\n      return\n    }\n    this.released = true\n\n    // Remove checker interval.\n    clearInterval(this.windowCheckerInterval)\n\n    // Call any function bound to the `onUnload` prop.\n    const { onUnload } = this.props\n\n    if (typeof onUnload === 'function') {\n      onUnload(null)\n    }\n  }\n}\n\n/**\n * Utility functions.\n * @private\n */\n\n/**\n * Copy styles from a source document to a target.\n * @param {Object} source\n * @param {Object} target\n * @private\n */\n\nfunction copyStyles(source, target) {\n  // Store style tags, avoid reflow in the loop\n  const headFrag = target.createDocumentFragment()\n\n  Array.from(source.styleSheets).forEach(styleSheet => {\n    // For <style> elements\n    let rules\n    try {\n      rules = styleSheet.cssRules\n    } catch (err) {\n      console.error(err)\n    }\n    if (rules) {\n      // IE11 is very slow for appendChild, so use plain string here\n      const ruleText = []\n\n      // Write the text of each rule into the body of the style element\n      Array.from(styleSheet.cssRules).forEach(cssRule => {\n        const { type } = cssRule\n\n        // Skip unknown rules\n        if (type === CSSRule.UNKNOWN_RULE) {\n          return\n        }\n\n        let returnText = ''\n\n        if (type === CSSRule.KEYFRAMES_RULE) {\n          // IE11 will throw error when trying to access cssText property, so we\n          // need to assemble them\n          returnText = getKeyFrameText(cssRule)\n        } else if (\n          [CSSRule.IMPORT_RULE, CSSRule.FONT_FACE_RULE].includes(type)\n        ) {\n          // Check if the cssRule type is CSSImportRule (3) or CSSFontFaceRule (5)\n          // to handle local imports on a about:blank page\n          // '/custom.css' turns to 'http://my-site.com/custom.css'\n          returnText = fixUrlForRule(cssRule)\n        } else {\n          returnText = cssRule.cssText\n        }\n        ruleText.push(returnText)\n      })\n\n      const newStyleEl = target.createElement('style')\n      newStyleEl.textContent = ruleText.join('\\n')\n      headFrag.appendChild(newStyleEl)\n    } else if (styleSheet.href) {\n      // for <link> elements loading CSS from a URL\n      const newLinkEl = target.createElement('link')\n\n      newLinkEl.rel = 'stylesheet'\n      newLinkEl.href = styleSheet.href\n      headFrag.appendChild(newLinkEl)\n    }\n  })\n\n  target.head.appendChild(headFrag)\n}\n\n/**\n * Make keyframe rules.\n * @param {CSSRule} cssRule\n * @return {String}\n * @private\n */\n\nfunction getKeyFrameText(cssRule) {\n  const tokens = ['@keyframes', cssRule.name, '{']\n  Array.from(cssRule.cssRules).forEach(cssRule => {\n    // type === CSSRule.KEYFRAME_RULE should always be true\n    tokens.push(cssRule.keyText, '{', cssRule.style.cssText, '}')\n  })\n  tokens.push('}')\n  return tokens.join(' ')\n}\n\n/**\n * Handle local import urls.\n * @param {CSSRule} cssRule\n * @return {String}\n * @private\n */\n\nfunction fixUrlForRule(cssRule) {\n  return cssRule.cssText\n    .split('url(')\n    .map(line => {\n      if (line[1] === '/') {\n        return `${line.slice(0, 1)}${window.location.origin}${line.slice(1)}`\n      }\n      return line\n    })\n    .join('url(')\n}\n\n/**\n * Convert features props to window features format (name=value,other=value).\n * @param {Object} obj\n * @return {String}\n * @private\n */\n\nfunction toWindowFeatures(obj) {\n  return Object.keys(obj)\n    .reduce((features, name) => {\n      const value = obj[name]\n      if (typeof value === 'boolean') {\n        features.push(`${name}=${value ? 'yes' : 'no'}`)\n      } else {\n        features.push(`${name}=${value}`)\n      }\n      return features\n    }, [])\n    .join(',')\n}\n\n/**\n * Component export.\n * @private\n */\n\nexport default NewWindow\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}"],"names":["_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_typeof","obj","Symbol","iterator","constructor","prototype","_possibleConstructorReturn","self","call","TypeError","ReferenceError","assertThisInitialized","_getPrototypeOf","getPrototypeOf","value","NewWindow","subClass","superClass","create","React","PureComponent","Constructor","protoProps","staticProps","instance","_classCallCheck","_this","container","window","windowCheckerInterval","released","state","mounted","this","ReactDOM","createPortal","children","openChild","setState","url","title","name","features","onBlock","onOpen","center","undefined","width","height","left","top","outerWidth","screenX","outerHeight","screenY","screenLeft","screen","screenTop","innerWidth","document","documentElement","clientWidth","innerHeight","clientHeight","console","warn","open","keys","reduce","push","join","createElement","setInterval","_this2","closed","release","getElementById","setAttribute","body","appendChild","staticContainer","removeChild","copyStyles","setTimeout","source","headFrag","createDocumentFragment","Array","from","styleSheets","forEach","styleSheet","rules","cssRules","err","error","ruleText","cssRule","type","CSSRule","UNKNOWN_RULE","returnText","KEYFRAMES_RULE","tokens","keyText","style","cssText","getKeyFrameText","IMPORT_RULE","FONT_FACE_RULE","includes","split","map","line","slice","location","origin","fixUrlForRule","newStyleEl","textContent","href","newLinkEl","rel","head","addEventListener","closeOnUnmount","close","clone","cloneNode","clearInterval","onUnload"],"mappings":"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"}